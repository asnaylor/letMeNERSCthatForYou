name: chatbot
channels:
  - pytorch
  - nvidia
  - huggingface
  - conda-forge
  - defaults
dependencies:
  - python~=3.10
  - pip
  - faiss-cpu~=1.8.0  # CPU version of the FAISS library for efficient similarity search
  - sentence-transformers~=2.5.0  # For generating sentence embeddings
  - rich~=13.7.0  # Rich text and formatting in the terminal
  - pytorch
  - pytorch-cuda=12.1 # pytorch
  - cuda-toolkit=12.1 # corresponding cuda-toolkit
  - huggingface_hub
  - transformers
  - accelerate
  - protobuf
  - aiohttp # async http requests
  - whoosh # search engine (not currently used)
  - gensim # text comparison
  - pip:
    - sfapi_client~=0.0.6 # Python client for NERSC SF API
    - flash-attn # support for flash attention2
    - vllm # cuda12 install
prefix: /global/cfs/cdirs/nstaff/chatbot/conda
# use the following to check that you have a GPU version of Pytorch:
# conda list pytorch
#
# modules used:
# module load python cudatoolkit cudnn pytorch
#
# to activate the environment:
# conda activate /global/cfs/cdirs/nstaff/chatbot/conda
#
# to update the environment:
# conda env update --prefix /global/cfs/cdirs/nstaff/chatbot/conda --file environment.yml --prune
